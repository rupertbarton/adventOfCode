const array1 = ['R1000', 'U564', 'L752', 'D449', 'R783', 'D938', 'L106', 'U130', 'R452', 'U462', 'R861', 'U654', 'L532', 'D485', 'R761', 'U336', 'L648', 'U671', 'L618', 'U429', 'R122', 'D183', 'L395', 'U662', 'R900', 'U644', 'L168', 'D778', 'L268', 'U896', 'L691', 'D852', 'L987', 'U462', 'R346', 'U103', 'R688', 'U926', 'R374', 'D543', 'R688', 'D682', 'R992', 'D140', 'L379', 'D245', 'L423', 'D504', 'R957', 'U937', 'L67', 'D560', 'L962', 'U275', 'R688', 'D617', 'L778', 'U581', 'R672', 'D402', 'R3', 'U251', 'R593', 'U897', 'L866', 'U189', 'L8', 'D5', 'R761', 'U546', 'R594', 'D880', 'L318', 'U410', 'L325', 'U564', 'L889', 'U688', 'L472', 'D146', 'R317', 'D314', 'L229', 'U259', 'R449', 'D630', 'L431', 'U4', 'R328', 'D727', 'R298', 'D558', 'R81', 'D508', 'L160', 'U113', 'L994', 'U263', 'L193', 'D631', 'R881', 'D608', 'L924', 'U447', 'R231', 'U885', 'L157', 'D739', 'R656', 'D121', 'R704', 'U437', 'L710', 'D207', 'R150', 'U406', 'R816', 'U683', 'R496', 'D715', 'L899', 'U757', 'L579', 'D684', 'L85', 'D354', 'R198', 'D411', 'R818', 'U772', 'L910', 'U493', 'R38', 'D130', 'L955', 'U741', 'R744', 'D224', 'L485', 'U201', 'L903', 'D904', 'R748', 'U288', 'R34', 'U673', 'R503', 'D931', 'L190', 'U547', 'L83', 'D341', 'R459', 'U114', 'L758', 'U220', 'L506', 'U444', 'L472', 'D941', 'L68', 'D910', 'R415', 'U668', 'L957', 'U709', 'R817', 'U116', 'R699', 'D424', 'R548', 'D285', 'R347', 'U396', 'R791', 'U62', 'L785', 'D360', 'L628', 'U415', 'L568', 'D429', 'R154', 'D840', 'L865', 'U181', 'L106', 'D564', 'L452', 'U156', 'L967', 'D421', 'R41', 'U500', 'L316', 'D747', 'R585', 'D858', 'L809', 'U402', 'L484', 'U752', 'R319', 'D563', 'R273', 'U84', 'R53', 'U874', 'L849', 'U90', 'R194', 'D969', 'R907', 'D625', 'L298', 'D984', 'R744', 'U172', 'R537', 'D177', 'L14', 'D921', 'L156', 'U133', 'R429', 'D787', 'R688', 'U894', 'L154', 'U192', 'R663', 'D225', 'L781', 'U426', 'R623', 'D60', 'L723', 'D995', 'R814', 'D195', 'L951', 'D594', 'R994', 'D543', 'L893', 'U781', 'R899', 'U85', 'R270', 'U303', 'R256', 'U977', 'R894', 'U948', 'R270', 'D301', 'L874', 'D388', 'R290', 'U986', 'L660', 'D741', 'L25', 'U381', 'R814', 'D150', 'R578', 'D529', 'R550', 'D176', 'R221', 'D653', 'R529', 'U83', 'R351', 'D462', 'R492', 'U338', 'R611', 'D5', 'L137', 'D547', 'R305', 'U356', 'R83', 'D880', 'R522', 'U681', 'R353', 'D54', 'R910', 'U774', 'L462', 'U48', 'L511', 'U750', 'R98', 'U455', 'R585', 'D579', 'L594']
const array2 = ['L1003', 'U936', 'R846', 'U549', 'L824', 'D684', 'R944', 'U902', 'R177', 'U875', 'L425', 'U631', 'L301', 'U515', 'L790', 'D233', 'R49', 'U408', 'L184', 'D103', 'R693', 'D307', 'L557', 'D771', 'L482', 'D502', 'R759', 'D390', 'L378', 'U982', 'L430', 'U337', 'L970', 'U400', 'R829', 'U212', 'L92', 'D670', 'R741', 'D566', 'L797', 'U477', 'L377', 'U837', 'R19', 'U849', 'L21', 'D870', 'L182', 'U414', 'L586', 'U768', 'L637', 'U135', 'R997', 'U405', 'L331', 'D256', 'L22', 'D46', 'L504', 'D660', 'L757', 'U676', 'L360', 'D499', 'R180', 'D723', 'L236', 'U78', 'R218', 'U523', 'L71', 'D60', 'L485', 'U503', 'L352', 'D969', 'R747', 'U831', 'L285', 'D859', 'L245', 'D517', 'L140', 'U463', 'L895', 'U284', 'L546', 'U342', 'R349', 'D438', 'R816', 'U21', 'L188', 'U482', 'L687', 'D903', 'L234', 'U15', 'L758', 'D294', 'R789', 'D444', 'L498', 'D436', 'L240', 'D956', 'L666', 'U686', 'R978', 'D827', 'R919', 'U108', 'R975', 'D35', 'R475', 'U59', 'L374', 'U24', 'L26', 'D497', 'R454', 'D388', 'R180', 'D561', 'R80', 'D433', 'R439', 'D818', 'R962', 'D912', 'R247', 'U972', 'R948', 'D807', 'R867', 'D946', 'R725', 'U395', 'R706', 'U187', 'L17', 'U332', 'L862', 'D660', 'L70', 'U608', 'R223', 'D506', 'R592', 'U357', 'R520', 'D149', 'L572', 'D800', 'L570', 'D358', 'R648', 'U174', 'R520', 'U153', 'L807', 'U92', 'R840', 'U560', 'L938', 'D599', 'R972', 'D539', 'R385', 'D495', 'L26', 'D894', 'L907', 'D103', 'L494', 'U51', 'L803', 'D620', 'L68', 'D226', 'R947', 'U210', 'R864', 'D755', 'L681', 'D520', 'L867', 'D577', 'R378', 'D741', 'L91', 'D294', 'L289', 'D531', 'L301', 'U638', 'L496', 'U83', 'L278', 'D327', 'R351', 'D697', 'L593', 'U331', 'R91', 'D967', 'R419', 'D327', 'R78', 'U304', 'R462', 'D2', 'L656', 'D700', 'L27', 'D29', 'L598', 'U741', 'L349', 'D957', 'R161', 'U688', 'R326', 'D798', 'L263', 'U45', 'L883', 'U982', 'R116', 'D835', 'L878', 'U253', 'L232', 'D732', 'R639', 'D408', 'R997', 'D867', 'R726', 'D258', 'L65', 'D600', 'L315', 'U783', 'L761', 'U606', 'R67', 'D949', 'L475', 'U542', 'L231', 'U279', 'L950', 'U649', 'L670', 'D870', 'L264', 'U958', 'R748', 'D365', 'R252', 'D129', 'R754', 'U27', 'R571', 'D690', 'L671', 'U143', 'L750', 'U303', 'L412', 'U24', 'L443', 'D550', 'R826', 'U699', 'L558', 'U543', 'L881', 'D204', 'R248', 'D192', 'R813', 'U316', 'L76', 'D78', 'R523', 'U716', 'L422', 'D793', 'R684', 'D175', 'L347', 'D466', 'L219', 'D140', 'L803', 'U433', 'R96']


const solver = (A, B) => {
  let smallestSteps = Number.MAX_VALUE
  let passedPoints = {}
  let step = 0;
  let current = { x: 0, y: 0 }
  for (j in A) {
    let order = A[j]
    let direction = order.charAt(0)
    let distance = +order.substring(1)
    if (direction === 'U') {
      for (i = current.y + 1; i <= current.y + distance; i++) {
        step++
        passedPoints[`${current.x}_${i}`] = step
      }
      current.y = current.y + distance
    }
    else if (direction === 'D') {
      for (i = current.y - 1; i >= current.y - distance; i--) {
        step++
        passedPoints[`${current.x}_${i}`] = step
      }
      current.y = current.y - distance
    }
    else if (direction === 'R') {
      for (i = current.x + 1; i <= current.x + distance; i++) {
        step++
        passedPoints[`${i}_${current.y}`] = step
      }
      current.x = current.x + distance
    }
    else if (direction === 'L') {
      for (i = current.x - 1; i >= current.x - distance; i--) {
        step++
        passedPoints[`${i}_${current.y}`] = step
      }
      current.x = current.x - distance
    }
  }
  
  current = { x: 0, y: 0 }
  step=0
  for (j in B) {
    let order = B[j]
    let direction = order.charAt(0)
    let distance = +order.substring(1)
    if (direction === 'U') {
      for (i = current.y + 1; i <= current.y + distance; i++) {
        step++
        if (passedPoints[`${current.x}_${i}`] && smallestSteps >passedPoints[`${current.x}_${i}`] + step) {
          smallestSteps =passedPoints[`${current.x}_${i}`] + step
          
        }
      }
      current.y = current.y + distance
    }
    else if (direction === 'D') {
      for (i = current.y - 1; i >= current.y - distance; i--) {
        step++
        if (passedPoints[`${current.x}_${i}`] && smallestSteps >passedPoints[`${current.x}_${i}`] + step) {
          smallestSteps =passedPoints[`${current.x}_${i}`] + step
          
        }
      }
      current.y = current.y - distance
    }
    else if (direction === 'R') {
      for (i = current.x + 1; i <= current.x + distance; i++) {
        step++
        if (passedPoints[`${i}_${current.y}`] && smallestSteps >passedPoints[`${i}_${current.y}`] + step) {
          smallestSteps =passedPoints[`${i}_${current.y}`] + step
          
        }
      }
      current.x = current.x + distance
    }
    else if (direction === 'L') {
      for (i = current.x - 1; i >= current.x - distance; i--) {
        step++
        if (passedPoints[`${i}_${current.y}`] && smallestSteps >passedPoints[`${i}_${current.y}`] + step) {
          smallestSteps =passedPoints[`${i}_${current.y}`] + step

        }
      }
      current.x = current.x - distance
    }
  }

  return smallestSteps
}
// const test1 = ['R8', 'U5', 'L5', 'D3',]
// const test2 = ['U7', 'R6', 'D4', 'L4',]
const test1 = ['R75', 'D30', 'R83', 'U83', 'L12', 'D49', 'R71', 'U7', 'L72']
const test2 = ['U62', 'R66', 'U55', 'R34', 'D71', 'R55', 'D58', 'R83']
// const test1 = [
//   'R1005', 'U563', 'R417', 'U509', 'L237', 'U555', 'R397', 'U414', 'L490', 'U336', 'L697', 'D682', 'L180', 'U951', 'L189', 'D547', 'R697', 'U583', 'L172', 'D859', 'L370', 'D114', 'L519', 'U829', 'R389', 'U608', 'R66', 'D634', 'L320', 'D49', 'L931', 'U137', 'L349', 'D689', 'L351', 'D829', 'R819', 'D138', 'L118', 'D849', 'R230', 'U858', 'L509', 'D311', 'R815', 'U217', 'R359', 'U840', 'R77', 'U230', 'R361', 'U322', 'R300', 'D646', 'R348', 'U815', 'R793', 'D752', 'R967', 'U128', 'R948', 'D499', 'R359', 'U572', 'L566', 'U815', 'R630', 'D290', 'L829', 'D736', 'R358', 'U778', 'R891', 'U941', 'R544', 'U889', 'L920', 'U913', 'L447', 'D604', 'R538', 'U818', 'L215', 'D437', 'R447', 'U576', 'R452', 'D794', 'R864', 'U269', 'L325', 'D35', 'L268', 'D639', 'L101', 'U777', 'L776', 'U958', 'R105', 'U517', 'R667', 'D423', 'R603', 'U469', 'L125', 'D919', 'R879', 'U994', 'R665', 'D377', 'R456', 'D570', 'L685', 'U291', 'R261', 'U846', 'R840', 'U418', 'L974', 'D270', 'L312', 'D426', 'R621', 'D334', 'L855', 'D378', 'R694', 'U845', 'R481', 'U895', 'L362', 'D840', 'L712', 'U57', 'R276', 'D643', 'R566', 'U348', 'R361', 'D144', 'L287', 'D864', 'L556', 'U610', 'L927', 'U322', 'R271', 'D90', 'L741', 'U446', 'R181', 'D527', 'R56', 'U805', 'L907', 'D406', 'L286', 'U873', 'L79', 'D280', 'L153', 'D377', 'R253', 'D61', 'R475', 'D804', 'R788', 'U393', 'L660', 'U314', 'R489', 'D491', 'L234', 'D712', 'L253', 'U651', 'L777', 'D726', 'R146', 'U47', 'R630', 'U517', 'R226', 'U624', 'L834', 'D153', 'L513', 'U799', 'R287', 'D868', 'R982', 'U390', 'L296', 'D373', 'R9', 'U994', 'R105', 'D673', 'L657', 'D868', 'R738', 'D277', 'R374', 'U828', 'R860', 'U247', 'R484', 'U986', 'L723', 'D847', 'L578', 'U487', 'L51', 'D865', 'L328', 'D199', 'R812', 'D726', 'R355', 'D463', 'R761', 'U69', 'R508', 'D753', 'L81', 'D50', 'L345', 'D66', 'L764', 'D466', 'L975', 'U619', 'R59', 'D788', 'L737', 'D360', 'R14', 'D253', 'L512', 'D417', 'R828', 'D188', 'L394', 'U212', 'R658', 'U369', 'R920', 'U927', 'L339', 'U552', 'R856', 'D458', 'R407', 'U41', 'L930', 'D460', 'R809', 'U467', 'L410', 'D800', 'L135', 'D596', 'R678', 'D4', 'L771', 'D637', 'L876', 'U192', 'L406', 'D136', 'R666', 'U730', 'R711', 'D291', 'L586', 'U845', 'R606', 'U2', 'L228', 'D759', 'R244', 'U946', 'R948', 'U160', 'R397', 'U134', 'R188', 'U850', 'R623', 'D315', 'L219', 'D450', 'R489', 'U374', 'R299', 'D474', 'L767', 'D679', 'L160', 'D403', 'L708'
// ]


// const test2 = ['L1003', 'D878', 'R937', 'D979', 'R921', 'U572', 'R4', 'D959', 'L884', 'U394', 'R221', 'U206', 'R806', 'U912', 'R345', 'D290', 'R65', 'D996', 'L411', 'D157', 'R590', 'D557', 'L32', 'D360', 'L691', 'D861', 'L156', 'D603', 'R733', 'U444', 'L433', 'U144', 'L238', 'U213', 'R827', 'U949', 'R384', 'D409', 'L727', 'U923', 'L98', 'U781', 'L201', 'D200', 'R749', 'U288', 'L486', 'U158', 'L494', 'D522', 'R636', 'D330', 'L507', 'U691', 'R918', 'D706', 'R163', 'U609', 'R559', 'U674', 'R784', 'D87', 'R670', 'U401', 'L85', 'U981', 'R848', 'D579', 'L882', 'U777', 'R671', 'D385', 'R913', 'D899', 'R92', 'D780', 'L795', 'U821', 'R956', 'U446', 'L109', 'D955', 'L570', 'D874', 'R499', 'U845', 'R769', 'U88', 'L529', 'U657', 'R553', 'D357', 'L83', 'D324', 'L273', 'U689', 'L715', 'U933', 'R161', 'U561', 'L603', 'U349', 'L445', 'U781', 'R299', 'U26', 'L212', 'U429', 'R763', 'U116', 'R961', 'D258', 'L518', 'D668', 'L767', 'U587', 'L654', 'D24', 'R318', 'U35', 'L9', 'D199', 'L161', 'U419', 'R6', 'D707', 'R944', 'U499', 'R207', 'D349', 'L727', 'D637', 'R735', 'D137', 'R18', 'D214', 'L531', 'D327', 'L916', 'U440', 'R859', 'U483', 'R952', 'D631', 'L96', 'D320', 'L192', 'D985', 'R330', 'D196', 'L345', 'D575', 'L535', 'D868', 'R376', 'D126', 'R903', 'D619', 'L126', 'D624', 'L990', 'D67', 'L927', 'U685', 'L200', 'D759', 'L157', 'D816', 'L585', 'U910', 'R587', 'D598', 'L398', 'U706', 'R847', 'U682', 'L919', 'D291', 'L932', 'D54', 'L314', 'U430', 'L60', 'U206', 'L997', 'D487', 'L874', 'U957', 'L753', 'U999', 'R156', 'U102', 'L826', 'U923', 'L204', 'U293', 'L244', 'U787', 'L273', 'D687', 'R134', 'D167', 'L287', 'D459', 'R875', 'D32', 'R635', 'D400', 'L179', 'D19', 'L576', 'U60', 'L182', 'D409', 'R114', 'U329', 'R207', 'U525', 'L295', 'U305', 'L861', 'U280', 'R531', 'D49', 'L890', 'U521', 'L283', 'U37', 'R344', 'D867', 'L474', 'U893', 'R140', 'U289', 'L67', 'U490', 'R121', 'D34', 'L696', 'U902', 'R288', 'U249', 'R107', 'D750', 'R389', 'U125', 'L406', 'U950', 'R932', 'U795', 'R205', 'U583', 'L665', 'U214', 'R806', 'D409', 'R832', 'D39', 'R207', 'D977', 'L873', 'U645', 'L762', 'U847', 'L725', 'U397', 'R414', 'D558', 'L669', 'D736', 'R897', 'U464', 'R207', 'U359', 'R257', 'U304', 'L932', 'U240', 'L582', 'U409', 'L493', 'D481', 'R48', 'D537', 'R893', 'U48', 'R707', 'U630', 'L70', 'D289', 'L769', 'U98', 'L679', 'U504', 'L337', 'U117', 'L343', 'D574', 'R595', 'U168', 'R498']

console.log(solver(array1, array2))